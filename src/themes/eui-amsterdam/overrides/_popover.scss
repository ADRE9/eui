.euiPopover__panel {
  .euiPopover__panelArrow {
    &:before {
      filter: blur($euiSizeXS - 1px);
      opacity: .2;
    }

    $arrowShadowCompensation: $euiSizeXS;

    &.euiPopover__panelArrow--top {
      &:before {
        inset-block-end: -$euiPopoverArrowSize;
        border-block-start-color: $euiShadowColor;
        clip-path: polygon(#{-$arrowShadowCompensation} 0, #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation} 0, #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation} #{$euiPopoverArrowSize + $arrowShadowCompensation}, #{-$arrowShadowCompensation} #{$euiPopoverArrowSize + $arrowShadowCompensation});
      }

      &:after {
        inset-block-end: -$euiPopoverArrowSize + 1;
      }
    }

    &.euiPopover__panelArrow--right {
      &:before {
        border-inline-end-color: $euiShadowColor;
        clip-path: polygon(#{-$arrowShadowCompensation} #{-$arrowShadowCompensation}, $euiPopoverArrowSize #{-$arrowShadowCompensation}, $euiPopoverArrowSize #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation}, #{-$arrowShadowCompensation} #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation});
      }

      &:after {
        inset-inline-start: -$euiPopoverArrowSize + 1;
      }
    }

    &.euiPopover__panelArrow--bottom {
      &:before {
        border-block-end-color: $euiShadowColor;
        clip-path: polygon(#{-$arrowShadowCompensation} #{-$arrowShadowCompensation}, #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation} #{-$arrowShadowCompensation}, #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation} $euiPopoverArrowSize, #{-$arrowShadowCompensation} $euiPopoverArrowSize);
      }

      &:after {
        inset-block-start: -$euiPopoverArrowSize + 1;
      }
    }

    &.euiPopover__panelArrow--left {
      &:before {
        inset-inline-end: -$euiPopoverArrowSize;
        border-inline-start-color: $euiShadowColor;
        clip-path: polygon(0 #{-$arrowShadowCompensation}, #{$euiPopoverArrowSize + $arrowShadowCompensation} #{-$arrowShadowCompensation}, #{$euiPopoverArrowSize + $arrowShadowCompensation} #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation}, 0 #{$euiPopoverArrowSize * 2 + $arrowShadowCompensation});
      }

      &:after {
        inset-inline-end: -$euiPopoverArrowSize + 1;
      }
    }
  }
}
